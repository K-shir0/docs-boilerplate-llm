# Markdown 詳細リファレンス

このドキュメントは、Markdown 記述における詳細な書式規則、エッジケース、高度な技術を提供します。

## 目次

1. [見出しの詳細規則](#見出しの詳細規則)
2. [リストの詳細規則](#リストの詳細規則)
3. [コードブロックの詳細](#コードブロックの詳細)
4. [テキスト記述の詳細](#テキスト記述の詳細)
5. [リンクと参照](#リンクと参照)
6. [テーブル](#テーブル)
7. [エッジケースと特殊な状況](#エッジケースと特殊な状況)
8. [高度なフォーマット技術](#高度なフォーマット技術)

## 見出しの詳細規則

### 基本原則

* **H1 は1つのみ**: ドキュメント全体で H1 はタイトルとして1つだけ使用
* **H2-H3 で構造化**: 主要セクションには H2、サブセクションには H3 を使用
* **H4 以降は禁止**: より深い階層が必要な場合はリストのネストを使用

### 見出しのスタイル

```markdown
# これが H1 - ドキュメントタイトル

## これが H2 - メインセクション

### これが H3 - サブセクション
```

### 見出しと内容の間隔

見出しの前後には適切な空行を配置します:

```markdown
## セクション1

ここに内容が入ります。

## セクション2

次のセクションの内容。
```

### 見出しの命名規則

* 簡潔で明確なタイトルを使用
* 動詞で始めるか、名詞句を使用
* 連番は使用しない（「1. 概要」ではなく「概要」）
* 日本語と英語が混在する場合は半角スペースで区切る

良い例:
```markdown
## API エンドポイント設計
## データベース構造
## 実装手順
```

悪い例:
```markdown
## 1. APIエンドポイント設計
## データベースの構造について
## 実装の手順を説明
```

## リストの詳細規則

### 基本原則

* **アスタリスク（*）のみ使用**: ハイフン（-）やプラス（+）は使用しない
* **タブでインデント**: スペースではなくタブを使用
* **一貫したスタイル**: ドキュメント全体で統一

### 番号なしリスト

```markdown
* 第1レベル項目
	* 第2レベル項目
		* 第3レベル項目
			* 第4レベル項目
	* 別の第2レベル項目
* 次の第1レベル項目
```

### 番号付きリスト

手順や順序が重要な場合のみ使用:

```markdown
1. 最初のステップ
2. 次のステップ
3. 最後のステップ
```

ネストした番号付きリスト:

```markdown
1. メインステップ1
	1. サブステップ1-1
	2. サブステップ1-2
2. メインステップ2
```

### 複数段落を含むリスト

リスト項目内で複数段落が必要な場合:

```markdown
* 第1項目

	この項目には詳細な説明が含まれます。
	複数段落にわたる場合、タブでインデントします。

	2つ目の段落もタブでインデント。

* 第2項目

	同様に詳細な説明。
```

### リスト内のコードブロック

```markdown
* コマンドを実行:

	```bash
	npm install
	```

* 次のステップを実行
```

## コードブロックの詳細

### 言語指定

常に言語を指定してシンタックスハイライトを有効化:

```markdown
```javascript
function example() {
  return "JavaScript code";
}
```
```

サポートされる主な言語:
* `javascript`, `js` - JavaScript
* `typescript`, `ts` - TypeScript
* `python`, `py` - Python
* `bash`, `sh` - Shell script
* `json` - JSON
* `yaml`, `yml` - YAML
* `markdown`, `md` - Markdown
* `html` - HTML
* `css` - CSS
* `sql` - SQL
* `go` - Go
* `rust` - Rust
* `java` - Java
* `c`, `cpp` - C/C++

### インラインコード

短いコード片や技術用語には `` ` `` を使用:

```markdown
`package.json` ファイルを編集して、`dependencies` セクションに追加してください。
```

### バッククォートのエスケープ

コード内でバッククォートを表示する場合:

````markdown
`` ` `` というバッククォートを表示
````

または:

`````markdown
````
```markdown
コードブロック内のコードブロック
```
````
`````

### ファイルパスとコマンド

ファイルパスやコマンドは明確に:

```markdown
`src/components/Button.tsx` ファイルを作成し、以下のコマンドを実行:

```bash
npm run build
```
```

## テキスト記述の詳細

### スペーシング規則

**英語と日本語の間**: 必ず半角スペースを1つ挿入

正しい例:
```markdown
GitHub リポジトリ
API エンドポイント
React コンポーネント
TypeScript の型定義
```

間違った例:
```markdown
GitHubリポジトリ
APIエンドポイント
Reactコンポーネント
TypeScriptの型定義
```

**例外**: 句読点の前後にはスペース不要

```markdown
React、Vue、Angular は人気のあるフレームワークです。
```

### 数値とテキスト

数値と単位の間:

```markdown
10 MB のファイル
5 秒間待機
100% の確率
```

### 記号の使用

* **矢印**: `→` (半角ハイフンと大なりではなく、Unicode矢印を使用)
* **ダッシュ**: 長いダッシュ `—` または短いダッシュ `–` を適切に使用
* **引用符**: `「」` (日本語) または `""` (英語)

## リンクと参照

### 内部リンク

同一ドキュメント内のセクションへのリンク:

```markdown
詳細は [記述規則](#記述規則) を参照してください。
```

### 外部リンク

```markdown
[CommonMark Specification](https://commonmark.org/)
```

### 参照スタイルリンク

長い URL を繰り返し使用する場合:

```markdown
詳細は [CommonMark][1] と [GitHub Flavored Markdown][2] を参照。

[1]: https://commonmark.org/
[2]: https://github.github.com/gfm/
```

### 相対パスリンク

同一リポジトリ内のファイルへのリンク:

```markdown
設計書は [こちら](../docs/design.md) を参照。
```

## テーブル

### 基本的なテーブル

```markdown
| 列1 | 列2 | 列3 |
|-----|-----|-----|
| A   | B   | C   |
| D   | E   | F   |
```

### テーブルの整列

```markdown
| 左寄せ | 中央揃え | 右寄せ |
|:-------|:-------:|-------:|
| Left   | Center  | Right  |
| A      | B       | C      |
```

### 複雑なテーブル

セル内で改行が必要な場合や複雑な内容の場合は、リスト形式を検討:

```markdown
## 比較表

* **項目 A**
	* 特徴1: 詳細な説明
	* 特徴2: 詳細な説明
* **項目 B**
	* 特徴1: 詳細な説明
	* 特徴2: 詳細な説明
```

## エッジケースと特殊な状況

### 特殊文字のエスケープ

Markdown の制御文字を文字として表示する場合:

```markdown
\* アスタリスクをそのまま表示
\# ハッシュをそのまま表示
\` バッククォートをそのまま表示
```

### 連続する記号

```markdown
* * * は水平線になります

---

上記のように `---` も水平線として解釈されます。
```

### HTML との混在

Markdown 内で HTML を使用可能（ただし推奨しない）:

```markdown
通常の Markdown テキスト

<div style="color: red;">
  HTML コンテンツ
</div>

再び Markdown
```

**注意**: HTML の使用は最小限に留め、Markdown の範囲内で表現できる場合は Markdown を使用してください。

### コメント

Markdown ドキュメント内にコメントを挿入:

```markdown
<!-- これはコメントです。レンダリング時には表示されません -->
```

### 空行の扱い

* セクション間: 1行の空行
* 段落間: 1行の空行
* リスト項目間（同レベル）: 通常は空行なし
* リスト項目間（詳細説明あり）: 空行あり

## 高度なフォーマット技術

### 定義リスト

GitHub Flavored Markdown では定義リストは非対応。代わりに:

```markdown
**用語1**
: 用語1の定義や説明

**用語2**
: 用語2の定義や説明
```

または:

```markdown
* **用語1**: 用語1の定義や説明
* **用語2**: 用語2の定義や説明
```

### タスクリスト

GitHub Flavored Markdown のタスクリスト:

```markdown
* [ ] 未完了タスク
* [x] 完了タスク
* [ ] 別の未完了タスク
```

### 脚注

一部の Markdown プロセッサでサポート:

```markdown
本文中に脚注を挿入[^1]します。

[^1]: これが脚注の内容です。
```

**注意**: CommonMark では脚注は標準ではありません。プロジェクトで使用するプロセッサを確認してください。

### 絵文字

GitHub Flavored Markdown では絵文字をサポート:

```markdown
:+1: :rocket: :memo:
```

**推奨**: 技術ドキュメントでは絵文字の使用は最小限に。

### 数式

一部のプロセッサ（GitHub など）で LaTeX 数式をサポート:

```markdown
インライン数式: $E = mc^2$

ブロック数式:
$$
\frac{n!}{k!(n-k)!} = \binom{n}{k}
$$
```

**注意**: 数式サポートはプロセッサ依存。CommonMark では標準ではありません。

## トークン効率化のヒント

### 簡潔な表現

不要な装飾を避け、内容を明確に:

悪い例:
```markdown
**重要**: この部分は*非常に*重要です。**必ず**読んでください。
```

良い例:
```markdown
## 重要事項

この部分は必ず読んでください。
```

### 構造化

階層構造で情報を整理することで、可読性とトークン効率の両方を向上:

```markdown
## データベース設計

* テーブル構造
	* users テーブル
		* id: プライマリキー
		* name: ユーザー名
	* posts テーブル
		* id: プライマリキー
		* user_id: 外部キー
```

### 重複の排除

同じ情報を繰り返さず、参照を使用:

```markdown
## セットアップ手順

詳細は [環境構築ガイド](./setup.md) を参照してください。
```

## 外部リファレンス

より詳細な情報は以下を参照:

* **[CommonMark Specification](https://commonmark.org/help/)** - Markdown の標準仕様
* **[GitHub Flavored Markdown Spec](https://github.github.com/gfm/)** - GitHub での拡張仕様
* **[Markdown Guide](https://www.markdownguide.org/)** - 包括的なガイド
* **[Daring Fireball: Markdown](https://daringfireball.net/projects/markdown/)** - オリジナルの Markdown 仕様

---

**Version:** 1.0.0
**Last Updated:** 2025-11-15
